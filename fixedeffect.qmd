---
title: "Fixed Effects Model"
format: html
---
Panel data consists of observations on multiple entities (like individuals, firms, countries) over time

While fixed effects models control for time-invariant unobserved heterogeneity

A fixed effects model is concerned with the 'within' variation (variation over time within the same entity) rather than the 'between' variation (variation between different entities)

Each entity (e.g., individual, company) in the panel dataset gets its own intercept term. These intercepts capture all unobserved, time-invariant characteristics of each entity.
The model essentially compares each entity to itself over time, examining how changes in the independent variables correlate with changes in the dependent variable.

$$
Y_{it} = \alpha + \beta X_{it} + \gamma D_{it} + \mu_i + \epsilon_{it}
$$
In this representation:

$Y_{it}$ is the dependent variable for entity $i$ at time $t$.
$X_{it}$ represents the independent variable(s) for entity $i$ at time $t$.
$D_{it}$ is the dummy variable for the event (1 after the event, 0 before).
$\alpha$ is the constant term.
$\beta$ is the coefficient for the independent variable(s).
$\gamma$ is the coefficient for the dummy variable.
$\mu_i$ represents the entity-specific fixed effect.
$\epsilon_{it}$ is the error term.

The coefficient $\gamma$ on the dummy variable indicates the average change in the target variable associated with the event, controlling for other factors.

By including this dummy variable, you can directly estimate the impact of the event on the intercept (baseline level) of the dependent variable
```{r}
#| echo: false
#| warning: false
#install.packages("plm")
library(plm)

# Simulating some data
set.seed(123)
company_id <- rep(1:10, each = 5) # 10 companies, 5 years each
year <- rep(2000:2004, 10)
policy_change <- c(rep(0, 25), rep(1, 25)) # Assuming policy change occurred in 2002
economic_confidence <- runif(50, min = 50, max = 100) # Simulating economic confidence scores
revenue <- rnorm(50, mean = 100, sd = 20) + policy_change * 15 + economic_confidence * 0.2 # Revenue affected by policy and economic confidence

data <- data.frame(company_id, year, policy_change, economic_confidence, revenue)

# Converting the data to a panel data frame
pdata <- pdata.frame(data, index = c("company_id", "year"))

# Running a fixed effects model including the exogenous variable
fe_model <- plm(revenue ~ policy_change + economic_confidence, data = pdata, model = "within")

# Summary of the model
summary(fe_model)
```

